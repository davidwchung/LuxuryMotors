(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(21),i=a.n(r),s=(a(74),a(43),a(61)),o=a(8),l=a(132),d=a(120),h=a(121),j=a(103),m=a(122),u=a(14),p=a(118),x=Object(p.a)((function(e){return{title:{flexGrow:1},welcome:{backgroundColor:e.palette.background.paper,padding:e.spacing(4)},welcomeButtons:{marginTop:"30px"},gridContainer:{padding:"30px 20px"},carPageContainer:{padding:"130px 20px"},card:{width:"auto",height:"100%"},carImage:{height:"250px",width:"100%"},carButtons:{marginTop:"20px"},checkoutItems:{marginLeft:"auto",marginRight:"auto"},checkoutCard:{marginBottom:"5px"},checkoutItemGrid:{padding:"10px"},checkoutImage:{width:"100px",height:"100px"},checkoutImg:{display:"block",maxWidth:"100%",maxHeight:"100%"},checkoutName:{paddingLeft:"10px",maxWidth:"225px"},checkoutPrice:{maxWidth:"150px"},checkoutQuantity:{maxWidth:"100px"},checkoutRemove:{maxWidth:"50px"},checkoutTotal:{minWidth:"400px",maxWidth:"400px",marginLeft:"auto",marginRight:"auto"},footer:{backgroundColor:e.palette.background.paper,padding:"20px 0px"}}}),{index:1}),g=a(59),b=a.n(g),O=a(1),f=function(){var e=x(),t=Object(u.c)((function(e){return e.cart})).cartItems,a=0;return t.forEach((function(e){a+=e.quantity})),Object(O.jsx)(d.a,{position:"relative",children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(j.a,{variant:"h6",className:e.title,children:"Luxury Motors"}),Object(O.jsxs)(m.a,{href:"/cart",color:"inherit",startIcon:Object(O.jsx)(b.a,{}),children:["CART (",a,")"]}),Object(O.jsx)(m.a,{href:"/",color:"inherit",children:"SHOP"})]})})},y=a(124),v=a(125),k=a(126),w=a(127),I=a(128),C=a(129),S=a(130),N=a(17),E=a.n(N),T=a(24),_="GET_CARS_REQUEST",F="GET_CARS_SUCCESS",L="GET_CARS_FAIL",R="GET_CAR_REQUEST",B="GET_CAR_SUCCESS",A="GET_CAR_FAIL",M=a(32),W=a.n(M),P="https://luxurymotors.herokuapp.com/api/cars/",D=a(123),G=function(){var e=x();return Object(O.jsxs)("div",{className:e.footer,children:[Object(O.jsx)(j.a,{variant:"subtitle1",align:"center",children:"Feel free to check out my portfolio site!"}),Object(O.jsx)(j.a,{align:"center",children:Object(O.jsx)(D.a,{href:"http://www.davidwchung.com",target:"_blank",children:"www.davidwchung.com"})})]})},U=function(){var e=x(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.getCars})),n=a.cars,r=a.loading,i=a.error;Object(c.useEffect)((function(){t(function(){var e=Object(T.a)(E.a.mark((function e(t){var a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),e.next=4,W.a.get(P);case 4:a=e.sent,c=a.data,t({type:F,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:L,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var s="",o=Math.floor(Math.random()*n.length);return n[o]&&(s=n[o]._id),Object(O.jsxs)(O.Fragment,{children:[r?Object(O.jsx)("h5",{children:"Loading..."}):i?Object(O.jsx)("h5",{children:i}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:e.welcome,children:Object(O.jsxs)(y.a,{maxWidth:"sm",children:[Object(O.jsx)(j.a,{variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Welcome!"}),Object(O.jsx)(j.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Find the car of your dreams today."}),Object(O.jsx)("div",{className:e.welcomeButtons,children:Object(O.jsxs)(v.a,{container:!0,spacing:2,justify:"center",children:[Object(O.jsx)(v.a,{item:!0,children:Object(O.jsx)(m.a,{href:"car/".concat(s),variant:"contained",color:"primary",children:"View Random Car"})}),Object(O.jsx)(v.a,{item:!0,children:Object(O.jsx)(m.a,{href:"/cart",variant:"outlined",color:"primary",children:"View Cart"})})]})})]})}),Object(O.jsx)(y.a,{className:e.gridContainer,maxWidth:"lg",children:Object(O.jsx)(v.a,{container:!0,spacing:6,children:n.map((function(t){return Object(O.jsx)(v.a,{item:!0,xs:12,sm:6,md:4,children:Object(O.jsxs)(k.a,{className:e.card,children:[Object(O.jsxs)(w.a,{children:[Object(O.jsx)(I.a,{className:e.carImage,image:t.imageUrl,title:t.name}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(j.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"".concat(t.manufacturer," ").concat(t.name)}),Object(O.jsx)(j.a,{gutterBottom:!0,variant:"h6",component:"h2",children:t.price?"$".concat(t.price.toLocaleString()):"$".concat(t.price)}),Object(O.jsx)(j.a,{variant:"subtitle2",children:t.description?"".concat(t.description.substring(0,100),"...."):""})]})]}),Object(O.jsx)(S.a,{children:Object(O.jsx)(m.a,{fullWidth:!0,href:"car/".concat(t._id),size:"small",color:"primary",children:"Learn More"})})]})},t._id)}))})})]}),Object(O.jsx)(G,{})]})},$="ADD_TO_CART",q="REMOVE_FROM_CART",J="CLEAR_CART",H=function(e){var t=e.match,a=e.history,n=x(),r=Object(u.b)(),i=Object(u.c)((function(e){return e.getCar})),s=i.car,o=i.loading,l=i.error,d=Object(u.c)((function(e){return e.cart})).cartItems;Object(c.useEffect)((function(){var e;s&&t.params.id!==s._id&&r((e=t.params.id,function(){var t=Object(T.a)(E.a.mark((function t(a){var c,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:R}),t.next=4,W.a.get("".concat(P).concat(e));case 4:c=t.sent,n=c.data,a({type:B,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:A,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,s,t]);var h=0;return d&&(h=d.find((function(e){return e.id===t.params.id}))?d.find((function(e){return e.id===t.params.id})).quantity:1),Object(O.jsx)(O.Fragment,{children:o?Object(O.jsx)("h5",{children:"Loading..."}):l?Object(O.jsx)("h5",{children:l}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(y.a,{className:n.carPageContainer,maxWidth:"lg",children:Object(O.jsxs)(v.a,{container:!0,spacing:6,alignItems:"center",children:[Object(O.jsxs)(v.a,{item:!0,xs:12,sm:12,md:6,children:[Object(O.jsx)(I.a,{component:"img",image:s.imageUrl,title:s.name}),Object(O.jsxs)(v.a,{container:!0,spacing:2,justify:"center",className:n.carButtons,children:[Object(O.jsx)(v.a,{item:!0,children:h<s.stock?Object(O.jsx)(m.a,{onClick:function(){var e,t;r((e=s._id,t=h,function(){var a=Object(T.a)(E.a.mark((function a(c,n){var r,i;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W.a.get("".concat("https://luxurymotors.herokuapp.com/api/cars/").concat(e));case 2:r=a.sent,i=r.data,c({type:$,payload:{id:i._id,name:i.name,manufacturer:i.manufacturer,price:i.price,imageUrl:i.imageUrl,quantity:t}}),localStorage.setItem("cart",JSON.stringify(n().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())),a.push("/cart")},variant:"contained",color:"primary",children:"Add To cart"}):Object(O.jsx)(m.a,{variant:"contained",color:"primary",disabled:!0,children:"Out Of Stock"})}),Object(O.jsx)(v.a,{item:!0,children:Object(O.jsx)(m.a,{href:"/",variant:"outlined",color:"primary",children:"Back To All Cars"})})]})]},s.imageUrl),Object(O.jsx)(v.a,{item:!0,xs:12,sm:12,md:6,children:Object(O.jsx)(k.a,{children:Object(O.jsxs)(C.a,{children:[Object(O.jsx)(j.a,{gutterBottom:!0,variant:"h3",component:"h2",children:"".concat(s.manufacturer," ").concat(s.name)}),Object(O.jsxs)(j.a,{variant:"h6",component:"h2",children:["Price:"," ",s.price?"$".concat(s.price.toLocaleString()):"$".concat(s.price)]}),Object(O.jsxs)(j.a,{variant:"h6",component:"h2",children:["Horsepower: ",s.horsepower]}),Object(O.jsxs)(j.a,{variant:"subtitle1",component:"h2",children:["Stock: ",s.stock]}),Object(O.jsxs)("p",{children:[s.description?s.description.substring(0,200):s.description,Object(O.jsx)("span",{id:"dots",children:"...."}),Object(O.jsx)("span",{id:"more",children:s.description?s.description.substring(200,s.description.length):s.description})]}),Object(O.jsx)("button",{className:"showMoreButton",onClick:function(){var e=document.getElementById("dots"),t=document.getElementById("more"),a=document.getElementById("showMoreButton");"none"===e.style.display?(e.style.display="inline",a.innerHTML="Show More",t.style.display="none"):(e.style.display="none",a.innerHTML="Show Less",t.style.display="inline")},id:"showMoreButton",children:"Show More"})]})})},s._id)]})})})})},Q=a(41),V=a(131),z=a(60),Y=a.n(z),K=function(){var e=x(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.cart})).cartItems;function c(e){t(function(e){return function(){var t=Object(T.a)(E.a.mark((function t(a,c){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:q,payload:e}),localStorage.setItem("cart",JSON.stringify(c().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))}var n=0;a.forEach((function(e){n+=e.quantity}));var r=0;a.forEach((function(e){r+=e.price*e.quantity}));var i=.2*r,s=r+i;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(y.a,{className:e.gridContainer,maxWidth:"lg",children:[Object(O.jsx)(j.a,{variant:"h3",align:"center",gutterBottom:!0,children:"Cart Items"}),a.length>0?Object(O.jsxs)(v.a,{container:!0,spacing:6,alignItems:"flex-start",children:[Object(O.jsx)(v.a,{item:!0,className:e.checkoutItems,xs:12,sm:12,md:8,children:a.map((function(t){return Object(O.jsx)(k.a,{className:e.checkoutCard,children:Object(O.jsxs)(v.a,{container:!0,className:e.checkoutItemGrid,children:[Object(O.jsx)(v.a,{item:!0,children:Object(O.jsx)(Q.a,{href:"car/".concat(t.id),className:e.checkoutImage,children:Object(O.jsx)("img",{className:e.checkoutImg,alt:t.name,src:t.imageUrl})})}),Object(O.jsxs)(v.a,{item:!0,xs:12,sm:!0,container:!0,direction:"row",justify:"space-between",alignItems:"center",zeroMinWidth:!0,children:[Object(O.jsx)(v.a,{item:!0,xs:!0,className:e.checkoutName,children:Object(O.jsxs)(j.a,{children:[t.manufacturer," ",t.name]})}),Object(O.jsx)(v.a,{item:!0,xs:!0,className:e.checkoutPrice,children:Object(O.jsxs)(j.a,{children:["Price: $",t.price.toLocaleString()]})}),Object(O.jsx)(v.a,{item:!0,xs:!0,className:e.checkoutQuantity,children:Object(O.jsxs)(j.a,{children:["Quantity: ",t.quantity]})}),Object(O.jsx)(v.a,{item:!0,xs:!0,className:e.checkoutRemove,children:Object(O.jsx)(V.a,{onClick:function(){return c(t.id)},"aria-label":"delete",className:e.margin,color:"secondary",children:Object(O.jsx)(Y.a,{fontSize:"default"})})})]})]})},t.id)}))}),Object(O.jsxs)(v.a,{item:!0,className:e.checkoutTotal,container:!0,xs:12,sm:12,md:4,justify:"space-between",children:[Object(O.jsxs)(j.a,{variant:"h6",display:"inline",align:"left",children:["Items (",n,"):"]}),Object(O.jsxs)(j.a,{variant:"h6",display:"inline",align:"right",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),Object(O.jsx)(j.a,{variant:"h6",display:"inline",align:"left",children:"Estimated Tax (20%):"}),Object(O.jsxs)(j.a,{variant:"h6",display:"inline",align:"right",children:["$",i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),Object(O.jsx)(j.a,{variant:"h6",display:"inline",align:"left",children:"Grand Total:"}),Object(O.jsxs)(j.a,{variant:"h6",display:"inline",align:"right",children:["$",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),Object(O.jsx)(m.a,{onClick:function(){t(function(){var e=Object(T.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:J}),localStorage.setItem("cart",JSON.stringify(a().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},href:"/",fullWidth:!0,variant:"contained",color:"primary",align:"center",children:"Place Order"})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{variant:"h6",align:"center",children:"Your Cart is Empty"}),Object(O.jsx)(v.a,{container:!0,spacing:2,justify:"center",children:Object(O.jsx)(v.a,{item:!0,children:Object(O.jsx)(m.a,{href:"/",variant:"contained",color:"primary",children:"View Cars"})})})]})]})})};var X=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{}),Object(O.jsxs)(s.a,{children:[Object(O.jsx)(f,{}),Object(O.jsx)("main",{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:U}),Object(O.jsx)(o.a,{exact:!0,path:"/car/:id",component:H}),Object(O.jsx)(o.a,{exact:!0,path:"/cart",component:K})]})})]})]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))},ee=a(33),te=a(62),ae=a(63),ce=a(64),ne=Object(ee.combineReducers)({getCars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0,cars:[]};case F:return{loading:!1,cars:t.payload};case L:return{loading:!1,error:t.payload};default:return e}},getCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{car:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case B:return{loading:!1,car:t.payload};case A:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var a=t.payload,c=e.cartItems.find((function(e){return e.id===a.id}));return c?(a.quantity++,{cartItems:e.cartItems.map((function(e){return e.id===c.id?a:e}))}):{cartItems:[].concat(Object(ce.a)(e.cartItems),[a])};case q:return{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload}))};case J:return{cartItems:[]};default:return e}}}),re=[te.a],ie={cart:{cartItems:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]}},se=Object(ee.createStore)(ne,ie,Object(ae.composeWithDevTools)(ee.applyMiddleware.apply(void 0,re)));i.a.render(Object(O.jsx)(u.a,{store:se,children:Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(X,{})})}),document.getElementById("root")),Z()},43:function(e,t,a){},74:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.a9d25847.chunk.js.map